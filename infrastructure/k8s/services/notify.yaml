project_name: "taskcluster-notify"
secrets:
  aws_access_key_id: ".Values.notifyAwsAccessKeyId"
  aws_secret_access_key: ".Values.notifyAwsSecretAccessKey"
  aws_region: ".Values.tfAwsRegion"
  azure_account: ".Values.tfAzureAccount"
  denylisted_notification_table_name: "DenylistedNotification"
  email_blacklist: "[]"
  email_source_address: ".Values.emailSourceAddress"
  force_ssl: "false"
  irc_nick: ".Values.ircNick"
  irc_password: ".Values.ircPassword"
  irc_port: ".Values.ircPort"
  irc_real_name: ".Values.ircRealName"
  irc_server: ".Values.ircServer"
  irc_user_name: ".Values.ircUserName"
  node_env: "production"
  pulse_hostname: ".Values.tfRabbitmqHostname"
  pulse_password: ".Values.notifyPulsePassword"
  pulse_username: ".Values.notifyPulseUsername"
  pulse_vhost: ".Values.pulseVhost"
  sqs_queue: ".Values.awsSqsQueue"
  taskcluster_access_token: ".Values.notifyAccessToken"
  taskcluster_client_id: "static/taskcluster/notify"
  trust_proxy: "true"
deployments:
  - service_name: "notify"
    docker_image: ".Values.dockerImage"
    proc_name: "web"
    readiness_path: "/api/notify/v1/ping"
    root_url: ".Values.rootUrl"
  - service_name: "notify"
    background_job: true
    docker_image: ".Values.dockerImage"
    proc_name: "handler"
    root_url: ".Values.rootUrl"
  - service_name: "notify"
    background_job: true
    docker_image: ".Values.dockerImage"
    proc_name: "irc"
    root_url: ".Values.rootUrl"
